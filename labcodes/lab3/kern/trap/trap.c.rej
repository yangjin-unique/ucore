--- trap.c
+++ trap.c
@@ -143,6 +152,8 @@
     cprintf("  eax  0x%08x\n", regs->reg_eax);
 }
 
+struct trapframe switchk2u, *switchu2k;
+
 /* trap_dispatch - dispatch based on what type of trap occurred */
 static void
 trap_dispatch(struct trapframe *tf) {
--- trap.c
+++ trap.c
@@ -134,8 +125,6 @@
     cprintf("  eax  0x%08x\n", regs->reg_eax);
 }
 
-struct trapframe switchk2u, *switchu2k;
-
 /* trap_dispatch - dispatch based on what type of trap occurred */
 static void
 trap_dispatch(struct trapframe *tf) {
